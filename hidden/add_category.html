<div class="man v n" style="position: absolute; z-index: 25000;"></div>
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.min.js"></script>
    <script src="/static/js/header.js"></script>
    <script src="/static/js/main.js"></script>
    <script src="/static/js/ocolors.js"></script>
    <script src=""></script>
    <title id="d">
    add product
  </title>
  <link rel="stylesheet" href="/static/css/index.css">
  <link rel="stylesheet" href="/static/css/login.css">
</head>
<style>
  @font-face {
    font-family: 'secondfont';
    src: url("/static/fonts/Uomo Expanded.otf") format('opentype');
  }
  @font-face {
    font-family: 'MyFont';
    src: url("/static/fonts/DIN.ttf") format('opentype');
  }
  i, .cats {
    font-family: 'MyFont', sans-serif;
    font-weight: 1000;
  }
  .co {
    font-family: 'Arial', sans-serif;
    font-weight: 1000;
    background-color: #c3c3c3;
    width: 100vw;
    font-style: normal;
    text-align: center;
  }
  * {
    font-family: 'MyFont', sans-serif;
    font-weight: 1000;
  }
  .btnpointer {
    display: none;
  }
  a:hover, .btnpointer {
    display: block;
  }
  h3, i {
    margin: 0;
    margin-left: 10px;
  }
  h1 {
    font-size: 35px;
  }
  h1 img {
    width: auto; max-width: 45px;
  }
  @media screen and (max-width:611px) {
    h1 img {
      width: auto; max-width: 7vw;
    }
    h1 {
      font-size: 6vw;
    }
  }
  input {
    margin: 0;
  }
  input[type="file"] {
  display: none;
}

.custom-file-upload {
  border: 1px solid #ccc;
  display: flex;
  padding: 6px 12px;
  cursor: pointer;
  width: 100%;
  height: 150px;
  margin: 7px;
  border-radius: 12px;
  justify-content: center;
  align-items: center;
}

</style>
  <div id="btnpointer" class="btnpointer"></div>
  <div id="dialogue_" class="man contain_menu center" style="position: fixed; top: 0; left: 0; z-index: 1000; display: none; background-color: #0000005d; backdrop-filter: blur(10px);">
    <div id="dialogue" class="center" align="center" style="transition: .3s; position: absolute; height: auto; width:auto; max-width: 645px; border-radius: 5px; background-color: rgb(255, 255, 255); z-index: 50; padding: 25px;">
        <a onclick="op('dialogue', 'dialogue_')" style="padding: 10px; position: absolute; top: 0;  right: 0; color: white;filter: brightness(-100%); cursor: pointer; margin-top: 0px; font-size: 55px;"><img style="width: 35px;" src="/static/img/close.png" alt=""></a>
        <br><br>
        <div class="col">
            <h1 style="font-size: 50px;"><i>DO U WANT TO <i style="text-decoration: underline;">REPLACE</i> THE PRODUCT ALREADY IN UR CART</i></h1>
            <div class="row center" style="gap:15px;">
              <input type="checkbox" onfocus="console.log('hide next time')" style="margin: 0; display: flex; z-index: 25;position: absolute; left: -15%; width: 20px;height: 20px; justify-content: start; align-items: start; padding: 0; width: 100%;" value="Never ask again">
              <i style=" pointer-events: none;">NEVER ASK AGIAN?</i>
            </div>
            <div class="row" style="margin: 0; margin-top: 25px; width: 40%; padding: 0;">
                <a href="#" style="margin: auto; padding: 5px 25px; background: black; color: #ffffff;">yes</a>
                <a href="#" style="margin: auto; padding: 5px 25px; background: black; color: #ffffff;">no</a>
            </div>
        </div>
    </div>
    <div onclick="op('dialogue', 'dialogue_')" style="width: 100vw; height: 100vh; background-color: #0000005d; backdrop-filter: blur(10px);"></div>
</div>
<svg style="width: 23px; margin-top: -25px; position: absolute; filter: invert(1);" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
  <path d="M 22.205078 2 A 1.0001 1.0001 0 0 0 21.21875 2.8378906 L 20.246094 8.7929688 C 19.076509 9.1331971 17.961243 9.5922728 16.910156 10.164062 L 11.996094 6.6542969 A 1.0001 1.0001 0 0 0 10.708984 6.7597656 L 6.8183594 10.646484 A 1.0001 1.0001 0 0 0 6.7070312 11.927734 L 10.164062 16.873047 C 9.583454 17.930271 9.1142098 19.051824 8.765625 20.232422 L 2.8359375 21.21875 A 1.0001 1.0001 0 0 0 2.0019531 22.205078 L 2.0019531 27.705078 A 1.0001 1.0001 0 0 0 2.8261719 28.691406 L 8.7597656 29.742188 C 9.1064607 30.920739 9.5727226 32.043065 10.154297 33.101562 L 6.6542969 37.998047 A 1.0001 1.0001 0 0 0 6.7597656 39.285156 L 10.648438 43.175781 A 1.0001 1.0001 0 0 0 11.927734 43.289062 L 16.882812 39.820312 C 17.936999 40.39548 19.054994 40.857928 20.228516 41.201172 L 21.21875 47.164062 A 1.0001 1.0001 0 0 0 22.205078 48 L 27.705078 48 A 1.0001 1.0001 0 0 0 28.691406 47.173828 L 29.751953 41.1875 C 30.920633 40.838997 32.033372 40.369697 33.082031 39.791016 L 38.070312 43.291016 A 1.0001 1.0001 0 0 0 39.351562 43.179688 L 43.240234 39.287109 A 1.0001 1.0001 0 0 0 43.34375 37.996094 L 39.787109 33.058594 C 40.355783 32.014958 40.813915 30.908875 41.154297 29.748047 L 47.171875 28.693359 A 1.0001 1.0001 0 0 0 47.998047 27.707031 L 47.998047 22.207031 A 1.0001 1.0001 0 0 0 47.160156 21.220703 L 41.152344 20.238281 C 40.80968 19.078827 40.350281 17.974723 39.78125 16.931641 L 43.289062 11.933594 A 1.0001 1.0001 0 0 0 43.177734 10.652344 L 39.287109 6.7636719 A 1.0001 1.0001 0 0 0 37.996094 6.6601562 L 33.072266 10.201172 C 32.023186 9.6248101 30.909713 9.1579916 29.738281 8.8125 L 28.691406 2.828125 A 1.0001 1.0001 0 0 0 27.705078 2 L 22.205078 2 z M 23.056641 4 L 26.865234 4 L 27.861328 9.6855469 A 1.0001 1.0001 0 0 0 28.603516 10.484375 C 30.066026 10.848832 31.439607 11.426549 32.693359 12.185547 A 1.0001 1.0001 0 0 0 33.794922 12.142578 L 38.474609 8.7792969 L 41.167969 11.472656 L 37.835938 16.220703 A 1.0001 1.0001 0 0 0 37.796875 17.310547 C 38.548366 18.561471 39.118333 19.926379 39.482422 21.380859 A 1.0001 1.0001 0 0 0 40.291016 22.125 L 45.998047 23.058594 L 45.998047 26.867188 L 40.279297 27.871094 A 1.0001 1.0001 0 0 0 39.482422 28.617188 C 39.122545 30.069817 38.552234 31.434687 37.800781 32.685547 A 1.0001 1.0001 0 0 0 37.845703 33.785156 L 41.224609 38.474609 L 38.53125 41.169922 L 33.791016 37.84375 A 1.0001 1.0001 0 0 0 32.697266 37.808594 C 31.44975 38.567585 30.074755 39.148028 28.617188 39.517578 A 1.0001 1.0001 0 0 0 27.876953 40.3125 L 26.867188 46 L 23.052734 46 L 22.111328 40.337891 A 1.0001 1.0001 0 0 0 21.365234 39.53125 C 19.90185 39.170557 18.522094 38.59371 17.259766 37.835938 A 1.0001 1.0001 0 0 0 16.171875 37.875 L 11.46875 41.169922 L 8.7734375 38.470703 L 12.097656 33.824219 A 1.0001 1.0001 0 0 0 12.138672 32.724609 C 11.372652 31.458855 10.793319 30.079213 10.427734 28.609375 A 1.0001 1.0001 0 0 0 9.6328125 27.867188 L 4.0019531 26.867188 L 4.0019531 23.052734 L 9.6289062 22.117188 A 1.0001 1.0001 0 0 0 10.435547 21.373047 C 10.804273 19.898143 11.383325 18.518729 12.146484 17.255859 A 1.0001 1.0001 0 0 0 12.111328 16.164062 L 8.8261719 11.46875 L 11.523438 8.7734375 L 16.185547 12.105469 A 1.0001 1.0001 0 0 0 17.28125 12.148438 C 18.536908 11.394293 19.919867 10.822081 21.384766 10.462891 A 1.0001 1.0001 0 0 0 22.132812 9.6523438 L 23.056641 4 z M 25 17 C 20.593567 17 17 20.593567 17 25 C 17 29.406433 20.593567 33 25 33 C 29.406433 33 33 29.406433 33 25 C 33 20.593567 29.406433 17 25 17 z M 25 19 C 28.325553 19 31 21.674447 31 25 C 31 28.325553 28.325553 31 25 31 C 21.674447 31 19 28.325553 19 25 C 19 21.674447 21.674447 19 25 19 z"></path>
  </svg>
<!--img src="{{ url_for('static', filename='img/noise.png') }}" style="width: 100vw; height: 100vh; position: absolute;" alt=""-->
<div class="ticker-container">
  <div class="ticker-content ticker-font" style="width: 10000px;" id="ticker">
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
    <span style="color: transparent;">this is a horizontal texthorizontal texthorizontal text</span>
  </div>
</div>
<body id="bod">
  
  <div
    style="width: 100vw; height: 100vh; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 2000; pointer-events: none;">
  </div>
  <div class="man v n" style="filter: blur(40px);"></div>
  <div id="menu_" class="man contain_menu" style="position: fixed; top: 0; left: 0; z-index: 1000; display: none; flex-direction: row; background-color: #0000005d; backdrop-filter: blur(10px);">
    <div id="menu" class="menu">
        <a onclick="op()" style="padding: 10px; position: absolute; top: 0;  right: 0; color: white;filter: brightness(-100%); cursor: pointer; margin-top: 0px; font-size: 55px;"><img style="width: 35px;" src="/static/img/close.png" alt=""></a>
        <br><br>
        <div class="column">
        <h4 onclick="window.location = '/home';" class="fb b">Home</h4>
        </div>
        <div class="column">
        <h4>SHOP</h4>
        <ul>
            <li class="fb b">Item 1</li>
            <li class="fb b">Item 1</li>
            <li class="fb b">Item 1</li>
        </ul>
        </div>
        <div class="column">
        <h4>CATEGORIES</h4>
        <ul>
            <li class="fb b">Newest Collection</li>
            <li class="fb b">Item 1</li>
            <li class="fb b">Item 1</li>
        </ul>
        </div>
    </div>
    <div onclick="op()" style="width: 100%; background-color: #0000005d; backdrop-filter: blur(10px);"></div>
</div><br>

  <fk id="fkhead"></fk>
  <header id="header" class="center"><svg style="width: 23px; margin-top: -25px; filter: invert(.3);" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 50 50">
    <path d="M 22.205078 2 A 1.0001 1.0001 0 0 0 21.21875 2.8378906 L 20.246094 8.7929688 C 19.076509 9.1331971 17.961243 9.5922728 16.910156 10.164062 L 11.996094 6.6542969 A 1.0001 1.0001 0 0 0 10.708984 6.7597656 L 6.8183594 10.646484 A 1.0001 1.0001 0 0 0 6.7070312 11.927734 L 10.164062 16.873047 C 9.583454 17.930271 9.1142098 19.051824 8.765625 20.232422 L 2.8359375 21.21875 A 1.0001 1.0001 0 0 0 2.0019531 22.205078 L 2.0019531 27.705078 A 1.0001 1.0001 0 0 0 2.8261719 28.691406 L 8.7597656 29.742188 C 9.1064607 30.920739 9.5727226 32.043065 10.154297 33.101562 L 6.6542969 37.998047 A 1.0001 1.0001 0 0 0 6.7597656 39.285156 L 10.648438 43.175781 A 1.0001 1.0001 0 0 0 11.927734 43.289062 L 16.882812 39.820312 C 17.936999 40.39548 19.054994 40.857928 20.228516 41.201172 L 21.21875 47.164062 A 1.0001 1.0001 0 0 0 22.205078 48 L 27.705078 48 A 1.0001 1.0001 0 0 0 28.691406 47.173828 L 29.751953 41.1875 C 30.920633 40.838997 32.033372 40.369697 33.082031 39.791016 L 38.070312 43.291016 A 1.0001 1.0001 0 0 0 39.351562 43.179688 L 43.240234 39.287109 A 1.0001 1.0001 0 0 0 43.34375 37.996094 L 39.787109 33.058594 C 40.355783 32.014958 40.813915 30.908875 41.154297 29.748047 L 47.171875 28.693359 A 1.0001 1.0001 0 0 0 47.998047 27.707031 L 47.998047 22.207031 A 1.0001 1.0001 0 0 0 47.160156 21.220703 L 41.152344 20.238281 C 40.80968 19.078827 40.350281 17.974723 39.78125 16.931641 L 43.289062 11.933594 A 1.0001 1.0001 0 0 0 43.177734 10.652344 L 39.287109 6.7636719 A 1.0001 1.0001 0 0 0 37.996094 6.6601562 L 33.072266 10.201172 C 32.023186 9.6248101 30.909713 9.1579916 29.738281 8.8125 L 28.691406 2.828125 A 1.0001 1.0001 0 0 0 27.705078 2 L 22.205078 2 z M 23.056641 4 L 26.865234 4 L 27.861328 9.6855469 A 1.0001 1.0001 0 0 0 28.603516 10.484375 C 30.066026 10.848832 31.439607 11.426549 32.693359 12.185547 A 1.0001 1.0001 0 0 0 33.794922 12.142578 L 38.474609 8.7792969 L 41.167969 11.472656 L 37.835938 16.220703 A 1.0001 1.0001 0 0 0 37.796875 17.310547 C 38.548366 18.561471 39.118333 19.926379 39.482422 21.380859 A 1.0001 1.0001 0 0 0 40.291016 22.125 L 45.998047 23.058594 L 45.998047 26.867188 L 40.279297 27.871094 A 1.0001 1.0001 0 0 0 39.482422 28.617188 C 39.122545 30.069817 38.552234 31.434687 37.800781 32.685547 A 1.0001 1.0001 0 0 0 37.845703 33.785156 L 41.224609 38.474609 L 38.53125 41.169922 L 33.791016 37.84375 A 1.0001 1.0001 0 0 0 32.697266 37.808594 C 31.44975 38.567585 30.074755 39.148028 28.617188 39.517578 A 1.0001 1.0001 0 0 0 27.876953 40.3125 L 26.867188 46 L 23.052734 46 L 22.111328 40.337891 A 1.0001 1.0001 0 0 0 21.365234 39.53125 C 19.90185 39.170557 18.522094 38.59371 17.259766 37.835938 A 1.0001 1.0001 0 0 0 16.171875 37.875 L 11.46875 41.169922 L 8.7734375 38.470703 L 12.097656 33.824219 A 1.0001 1.0001 0 0 0 12.138672 32.724609 C 11.372652 31.458855 10.793319 30.079213 10.427734 28.609375 A 1.0001 1.0001 0 0 0 9.6328125 27.867188 L 4.0019531 26.867188 L 4.0019531 23.052734 L 9.6289062 22.117188 A 1.0001 1.0001 0 0 0 10.435547 21.373047 C 10.804273 19.898143 11.383325 18.518729 12.146484 17.255859 A 1.0001 1.0001 0 0 0 12.111328 16.164062 L 8.8261719 11.46875 L 11.523438 8.7734375 L 16.185547 12.105469 A 1.0001 1.0001 0 0 0 17.28125 12.148438 C 18.536908 11.394293 19.919867 10.822081 21.384766 10.462891 A 1.0001 1.0001 0 0 0 22.132812 9.6523438 L 23.056641 4 z M 25 17 C 20.593567 17 17 20.593567 17 25 C 17 29.406433 20.593567 33 25 33 C 29.406433 33 33 29.406433 33 25 C 33 20.593567 29.406433 17 25 17 z M 25 19 C 28.325553 19 31 21.674447 31 25 C 31 28.325553 28.325553 31 25 31 C 21.674447 31 19 28.325553 19 25 C 19 21.674447 21.674447 19 25 19 z"></path>
    </svg>
    <a style="flex:1;" onclick="menu()"><img style="width: 50px;"
        src="/static/img/barsa.png" alt=""></a>
    <div onclick="window.location = '/home';" class="one logo center" style="flex:1;position: absolute;"><img id="frg"
        style="cursor: pointer; margin-top: 20px;" src="/static/img/frg.png"
        alt=""></div>
    <a class="one" align="right" style="flex: 1;">
    </a>
  </header><br><br><br>
  <div class="center form" style="margin:0; margin-top: 150px; width: 100vw; justify-content: end;">
    <div style="margin-bottom: 105px;">
      <h1 style="margin: 0; margin-left: 10px; font-weight: 600; font-family: 'MyFont', sans-serif;">ADD Category</h1>
    </div>
      <div style="width: auto;max-width: 50vw; justify-content: end;">
      <h3 style="font-weight: 600; font-family: 'cool', sans-serif;">Name Your Category,</h3>
      <input type="text" placeholder="***" maxlength="20" id="name" style="outline: 1px solid rgb(181, 181, 181); "> <br>
      <i style="color:grey; font-style: normal;margin-bottom: 95px;">the name of the category will be used as a heading so make a descriptive two to three words of Name..</i><br><br><br>
      <h3 style="font-weight: 600; font-family: 'cool', sans-serif;">Price Margins: <i style="color:#999999; font-style: normal; font-size: 14px; text-wrap: nowrap;">(PRESS ENTER TO ADD)</i></h3>
      <input type="text" placeholder="***" id="input-tag1" id="gender" style="outline: 1px solid rgb(181, 181, 181);"><i>PKR</i>
        <div class="tags-input" style="width: 100%;">
            <ul id="tags1" style="padding: 0; margin: 0;"></ul>
        </div> 
      <i style="color:grey; font-style: normal;margin-bottom: 45px;">ie: 250 - 500, 500 - 1000... etc <br>add any price margins and please carefully, according to the products prices.</i>
      <div style="margin-bottom: 45px;"></div>
      <h3>Description</h3>
      <textarea name="description" style="margin-left: 8px; resize: none; width: 120%; height: 150px; outline: 1px solid black; max-width: 100%; padding: 5px 25px;" id="description"></textarea>

      <div style="margin: 65px; background: #acacac;" class="div"></div>
      <div style="padding: 25px 25px; flex-direction: row; display: flex; background-color: antiquewhite; min-width: 100%; width: auto; margin-bottom: 70px;">
        <h1 class="center" style="margin: 0; justify-content: center; align-items: center; margin: 0; font-weight: 600; font-family: 'MyFont', sans-serif;"><img src="/static/img/warn.png" style="margin: 0px 15px;" alt=""></h1>
        <p>The image will be displayed on the front Landing page when it is released with the title of new </p>
      </div>
      <div id="response"></div>
      <form id="uploadForm" enctype="multipart/form-data">
        <label for="file-upload" style="border: 2px solid black;" id="file1" class="custom-file-upload" accept="image/png, image/jpeg">
          Upload image
      </label>
        <input id="file-upload" name="xhr2upload" onchange="document.getElementById('file1').style.background = '#ccc';document.getElementById('file1').innerText = 'Selected Image';" type="file">
      </form>
      <h1>Preview:</h1>
      </div>
      <div class="abigail" style="width: 100vw;">
        <div class="one navigation2 af" style="display: flex;">
            <div><img class="imagus" style="width: 100vw; height: auto;" id="wallpaper" alt=""><i class="for">NEW</i><h1 class="pr" style="justify-content: center; align-items: center; height: 100%; background-color: #ffffff76;"><a class="cta weffect dialBack" data-replace="GET 50% back" style="border: 2px solid #000000; background: white; font-size: 22px; padding: 5px 25px; min-width: 120px;"><span style="color: black; font-size: 15px;">VIEW IN STORE</span></a></h1></div>
            <div style="display: none;" class="center wrapper">
                <a class="cta" href="#">
                  <span>More</span>
                </a>
              </div>
        </div>
      </div>
      <div class="center form" style="margin:0; margin-top: 150px; width: 100vw; justify-content: end;">

      <br><br><br>
      <div align="right">
      <h3 class="pointer" onclick="submit_product()" style="padding: 15px 25px; max-width: 60px; text-align: center; background-color: rgb(0, 0, 0); color: #ffffff;">Submit</h3>
    </div>
      <br><br><br><br>
    </div>
  </div>
</body>

</html>
<script>
  var gender = [];
  var type = [];
  create_a("1", gender);
  create_a("2", type);
  function create_a(n, a) {
    const tags = document.getElementById('tags'+n);
    const input = document.getElementById('input-tag'+n);
    input.addEventListener('keydown', function (event) {
        if (event.key === 'Enter') {
            const tagContent = input.value.trim().toUpperCase();
            add_tag(event, tagContent, null,input);
        }
    });
    tags.addEventListener('click', function (event) {
        if (event.target.classList.contains('delete-button')) {
            delete_(text=event.target, parentRemove= event.target.parentNode);
        }
    });

      function add_tag(event, tagContent, classes=null, input=null) {
        event.preventDefault();
        const fr = document.querySelectorAll(".list");
        var loaf = false;
        fr.forEach(function (el) {
            const loaf_ = (el.innerText === tagContent);
            if (loaf_){
                loaf = loaf_;
                return;
            }
        });
        if (loaf)
            return;
        const tag = document.createElement('li'); 
        if (tagContent !== '') {
            a.push(tagContent);
            console.log(a);
            tag.innerText = tagContent; 
            tag.innerHTML += `<button class="delete-button"><img style="width: 15px; pointer-events: none;" src="/static/img/close.png" alt=""></button>`; 
            tags.appendChild(tag);
            if (input != null)
            input.value = '';
        }
    }
    function delete_(text, parentRemove=null, event=null) {
        if (event != null)
        event.preventDefault();
      if (parentRemove != null)
      parentRemove.remove();
      a = a.filter(e => e !== text.parentNode.innerText);
      console.log(a);
    }
  }
</script>
<script>
  var format = {
    "name":"",
    "img":"",
    "price_ranges":"",
    "description":"",
  }
  var imgs = []
  function end_() {
      console.log(imgs);
      format["img"] = imgs[0].replace(/\'/g, "\\\'");
      format["description"] = document.getElementById("description").value.replace(/\'/g, "\\\'");
      format["price_ranges"] = gender.join(".").replace(/\'/g, "\\\'");
      format["name"] = document.getElementById("name").value.replace(/\'/g, "\\\'");
      console.log(format);
      load_product(format);
    }
    let aw = 0
    async function submit_product() {
      await make_file("file-upload");
      let secondInterval = setInterval(interval_func_,25);
      function interval_func_() {
        if (aw == 40 && imgs.length == 2) {
          end_()
          clearInterval(secondInterval);
          delete aw
        } else if (imgs.length == 1) {
          end_()
          clearInterval(secondInterval);
          delete aw
        }
        aw += 1;
      };
  }
</script>
<script>
  $(document).ready(function() {
    function make_f(f) {
        var formData = new FormData();
        var file = $('#'+f)[0].files[0];
        formData.append('xhr2upload', file);
        console.log("literally doing the file "+f);
        $.ajax({
            url: '/payload',
            type: 'POST',
            data: formData,
            contentType: false,
            processData: false,
            success: function(response) {
                $('#response').html('<p>' + response[0] + '</p>');
                imgs.push(response[0]);
                console.log(imgs);
            },
            error: function(jqXHR, textStatus, errorThrown) {
                $('#response').html('<p>Error: ' + errorThrown + '</p>');
            }
        });
    };
    window.make_file = make_f;
  });
</script>
<script>
  let t= document.getElementById("color_input");
  t.style.background = t.value;
</script>
<script>
  /*let num = localStorage.getItem("type", '');
  document.querySelector(".d2-btn").innerText = num;
  document.getElementById("price").addEventListener("keypress", function(event) {
      if (event.key === "Enter") {
          event.preventDefault();
          localStorage.setItem('type', this.value);
          document.querySelector(".d2-btn").innerText = "All";
          window.location.href = ""
      }
  });*/
  
</script>
<script>
  setInputFilter(document.getElementById("price"), function(value) {
      return /^\d*\.?\d*$/.test(value);
  }, "Only digits and '.' are allowed");
</script>


<script>
  var off = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30"><path d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"></path></svg>`;
  var on = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg>`;
  function nestedButtonClick(event, thi, productid) {
      event.preventDefault();
      if (thi.innerHTML == off) {
          thi.innerHTML = on;
          //delete_(productid);
          console.log("DELETED")
      } else {
          thi.innerHTML = off;
          save(productid);
      }
  }

</script>
<script>
    function updateSearch(name, fr) {
        searchfor[name] = fr;
    }
    function searchFilter(bg, color, display) {
        for (let i = 0; i< Object.keys(searchfor).length; i++) {
            document.querySelectorAll(searchfor[Object.keys(searchfor)[i]]).forEach(function (el) {
                const parent_element = el.closest('[href*="/product/"]');
                parent_element.style.display = display;
                el.style.background = bg;
                el.style.color = color;
            });
        }
    }
    var searchfor = {};

</script>
<script>
  window.onpageshow = function(event) {
      if (event.persisted) {
          window.location.reload();
      }
  };
</script>
<script>
  var down = 0;
function summonContext(event=NaN, id) {
    if (event == NaN) {
      event.preventDefault();
    }
    const context = document.getElementById('context_container');
    context.style.display = 'flex';
    down = 1;
    document.querySelectorAll('.butts').forEach(function (el) {
        el.addEventListener('mousedown', function () {
            if (el.innerText == "SIGN IN/UP") {
                el.setAttribute('href',v+"/"+id);
            }
        });
    })
    var txt = $('.context_container'),
        sel = $('.add_menu');
    //context.style.left = `${event.pageX}px`;
    //context.style.top = `${event.pageY}px`;
}
document.addEventListener('mouseup', function () {
    const context = document.getElementById('context_container');
    if (down == 1) {
        context.style.display = 'none';
        down = 0;
    }
});

pointer_();
</script>
<script>
  $(document).ready(function() {
        var token = '{{ token }}';
        var view = '{{ style }}';
        var socket = io("https://fragilestudiospk.com", {
            extraHeaders: {
                Authorization: '' + token
            }
        });
        function l_p(a) {
            socket.emit("request_category", a);
            console.log("Sending.");
        }
        window.load_product = l_p;
    });
</script>
<script>
  function TextAbstract(text, length) {
    if (text == null) {
      return "";
    }
    if (text.length <= length) {
      return text;
    }
    text = text.substring(0, length);
    last = text.lastIndexOf(" ");
    text = text.substring(0, last);
    return text + "..";
  }
</script>

<script>
  function hexToRgb(hex) {
    // Remove the hash at the start if it's there
    hex = hex.replace(/^#/, '');

    // Parse r, g, b values
    let bigint = parseInt(hex, 16);
    let r = (bigint >> 16) & 255;
    let g = (bigint >> 8) & 255;
    let b = bigint & 255;

    return [r, g, b];
}

// Calculate the Euclidean distance between two RGB colors
function colorDistance(color1, color2) {
    let rDiff = color1[0] - color2[0];
    let gDiff = color1[1] - color2[1];
    let bDiff = color1[2] - color2[2];
    
    return Math.sqrt(rDiff * rDiff + gDiff * gDiff + bDiff * bDiff);
}

// Find the closest color in the colors object
function findClosestColor(selectedColor) {
    let minDistance = Infinity;
    let closestColor = null;
    
    let selectedRgb = hexToRgb(selectedColor);
    
    for (let hex in colours) {
        let rgb = hexToRgb(hex);
        let distance = colorDistance(selectedRgb, rgb);
        
        if (distance < minDistance) {
            minDistance = distance;
            closestColor = hex;
        }
    }
    
    return closestColor;
}

  function colourNameToHex(colour)
{
  console.log(colour);
  let closestColor = findClosestColor(colour);
  document.getElementById('color_input').style.backgroundColor = closestColor;
  return colours[closestColor];
}
</script>
