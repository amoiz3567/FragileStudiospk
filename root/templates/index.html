<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1">
    <script nonce="{{ csp_nonce() }}" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script nonce="{{ csp_nonce() }}" src="https://code.jquery.com/jquery-3.6.1.js"></script>
    <script nonce="{{ csp_nonce() }}" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.2/socket.io.min.js"></script>
    <script nonce="{{ csp_nonce() }}" src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#242424">
    <meta name="msapplication-navbutton-color" content="#242424">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script nonce="{{ csp_nonce() }}" src="{{ url_for('static', filename='js/header.js') }}"></script>
    <script nonce="{{ csp_nonce() }}" src="{{ url_for('static', filename='js/main.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <link rel="icon" type="image/x-icon" href="/static/favicon/favicon_.ico">
    <title>Fragile Store</title>
</head>
<style>
    @font-face {
      font-family: 'cool';
      src: url("{{ url_for('static', filename='fonts/DIN.ttf') }}") format('opentype');
    }
    .des_nodot {
      font-family: 'cool', sans-serif;
      list-style-type: none;
    }
    .des_nodot ul  {
      list-style-type: none;
    }
    </style>    
<!--img src="{{ url_for('static', filename='img/noise.png') }}" style="width: 100vw; height: 100vh; position: absolute;" alt=""-->
<body id="bod">
    <div id="context_container" style="width: auto; height: auto; position: fixed; display: none; flex-direction: column; gap: 0px; top: 0; left: 0; z-index: 1200; margin: 25px; border-radius: 1px; overflow: hidden; border: 1px solid black; background: white; border-radius: 2px; padding: 0; margin-left:37%; margin-top: 230px; border: none; padding-bottom: 15px; background-color: #c7c7c7;">
        <p class="butts" style="background-color: rgba(255, 0, 0, 0); color: rgb(0, 0, 0); padding:4px 35px; font-weight: 100; width: auto; margin: 25px 0 0 0; color: balck; font-size: 18px;">For performing this action, You need to</p>
        <a class="butts" onclick="window.location.href = '/auth';"  style="background-color: rgba(255, 0, 0, 0); padding:4px 35px; font-weight: 100; width: auto; margin: 0px 0 25px 0px; text-decoration: underline; color: #000000; font-size: 19px;">sign in / up&nbsp;&nbsp;</a>
      </div>

    <div style="width: 100vw; left: 0; top: 0; position: absolute; background-color: #0000; height: 50px;">
    </div>
    <!--div class="man v pizzaria n"></div-->
    <div class="ticker-container" style="height: 35px; margin-bottom: 0; font-size: 13px; background-color: #000000;">FREE DELIVERY ON ORDERS ABOVE 4000 PKR ðŸ”¥</div>
        <div id="menu_" class="man contain_menu" style="position: fixed; top: 0; left: 0; z-index: 1000; display: none; flex-direction: row; background-color: #0000005d; backdrop-filter: blur(10px);">
            <div id="menu" class="menu">
                <a onclick="op()" style="padding: 10px; position: absolute; top: 0;  right: 0; color: white;filter: brightness(-100%); cursor: pointer; margin-top: -20px; font-size: 55px;"><img style="width: 35px;" src="{{ url_for('static', filename='img/close.png') }}" alt=""></a>
                <br><br>
                <div class="column">
                <h4 onclick="window.location = '/home';" class="b_ fb b">Home</h4>
                </div>
                <div class="column">
                <h4 class="pointer b_" onclick="window.location.href = '/product'">SHOP</h4>
                </div>
                <div class="div center" style="margin: 25px 45px; background-color: #ccc;"></div>
                <div class="column">
                <h4>CATEGORIES</h4>
                <ul id="categories_list">
    
                </ul>
                </div>
                <!--div class="div center" style="margin: 25px; background-color: #ccc; margin-top: 25px;"></div>
                <div class="column">
                    <h4 style="font-weight: 300;" onclick="window.location.href = '/cart'" style="font-weight: 1000;" class="b_ pointer">CART<svg style="width: 15px; margin-left:10px; margin-bottom: -2px; height: auto;" class="svg s" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="5.7 0 105.5 126.1" preserveAspectRatio="xMinYMax meet" data-hook="svg-icon-1">
                        <path d="M99.8 28.4c0-1.2-0.9-2-2.1-2h-15c0 3.2 0 7.6 0 8.2 0 1.5-1.2 2.6-2.6 2.9 -1.5 0.3-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-0.9 0-4.7 0-8.2H40.1c0 3.2 0 7.3 0 8.2 0 1.5-1.2 2.9-2.6 2.9 -1.5 0-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-0.6 0-5 0-8.2h-15c-1.2 0-2 0.9-2 2L8.3 124c0 1.2 0.9 2.1 2.1 2.1h96.3c1.2 0 2.1-0.9 2.1-2.1L99.8 28.4z" fill="none" stroke="black" stroke-width="5"></path>
                        <path d="M59.1 5.9c-2.9 0-2 0-2.9 0 -2 0-4.4 0.6-6.4 1.5 -3.2 1.5-5.9 4.1-7.6 7.3 -0.9 1.8-1.5 3.5-1.8 5.6 0 0.9-0.3 1.5-0.3 2.3 0 1.2 0 2.1 0 3.2 0 1.5-1.2 2.9-2.6 2.9 -1.5 0-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-1.2 0-2.3 0-3.5 0-3.2 0.9-6.4 2-9.4 1.2-2.3 2.6-4.7 4.7-6.4 3.2-2.9 6.7-5 11.1-5.9C53.5 0.3 55 0 56.7 0c1.5 0 2.9 0 4.4 0 2.9 0 5.6 0.6 7.9 1.8 2.6 1.2 5 2.6 6.7 4.4 3.2 3.2 5.3 6.7 6.4 11.1 0.3 1.5 0.6 3.2 0.6 4.7 0 1.2 0 2.3 0 3.2 0 1.5-1.2 2.6-2.6 2.9s-2.9-0.9-3.2-2.3c0-0.3 0-0.3 0-0.6 0-1.2 0-2.6 0-3.8 0-2.3-0.6-4.4-1.8-6.4 -1.5-3.2-4.1-5.9-7.3-7.3 -1.8-0.9-3.5-1.8-5.9-1.8C61.1 5.9 59.1 5.9 59.1 5.9L59.1 5.9z" fill="none" stroke="black" stroke-width="5"></path>
                        <text x="58.5" y="77" dy=".35em" text-anchor="middle" style="color: black; font-style: normal;" class="uxskpx" data-hook="items-count"></text>
                    </svg>
                      </h4>
                    <h4 style="font-weight: 300;" onclick="window.location.href = '/saved'" class="b_ pointer">SAVED<svg style="width: 20px; color: #6e6e6e; margin-left:5px; margin-bottom: -3px; height: auto;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32" fill="#6e6e6e"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg></h4>
                </div-->
            </div>
            <div onclick="op()" style="width: 100%; background-color: #0000005d; backdrop-filter: blur(10px);"></div>
        </div>
            <fk id="fkhead"></fk>
        <header id="header" class="center">
            <a align="left" style="flex: 0;">
                <a style="flex:0;margin: 0;" onclick="menu()"><img style="width: 50px;" src="{{ url_for('static', filename='img/barsa.png') }}" alt=""></a>
                <a onclick="my_search()" style="flex: 1;margin: 0; display: flex; justify-content: start; align-items: start;"><svg class="svg p" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 16 16"><path d="M 10.5 1 C 8.019531 1 6 3.019531 6 5.5 C 6 6.558594 6.382813 7.523438 7 8.292969 L 2.023438 13.269531 L 2.726563 13.980469 L 7.707031 9 C 8.476563 9.617188 9.441406 10 10.5 10 C 12.980469 10 15 7.980469 15 5.5 C 15 3.019531 12.980469 1 10.5 1 Z M 10.5 2 C 12.4375 2 14 3.5625 14 5.5 C 14 7.4375 12.4375 9 10.5 9 C 8.5625 9 7 7.4375 7 5.5 C 7 3.5625 8.5625 2 10.5 2 Z" stroke="black" stroke-width="0.4"></path></svg></a>
            </a>
            <div onclick="window.location = '/home';" class="one logo center" style="flex:1;position: absolute;"><img id="frg" style="cursor: pointer; margin-top: 15px;" src="{{ url_for('static', filename='img/frg.png') }}"alt=""></div>
            <a class="one" align="right" style="flex: 1;">
                <a href="/auth" class="fb b abs"><svg data-bbox="0 0 50 50" class="svg p" data-type="shape" xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50"><g><path d="M25 48.077c-5.924 0-11.31-2.252-15.396-5.921 2.254-5.362 7.492-8.267 15.373-8.267 7.889 0 13.139 3.044 15.408 8.418-4.084 3.659-9.471 5.77-15.385 5.77m.278-35.3c4.927 0 8.611 3.812 8.611 8.878 0 5.21-3.875 9.456-8.611 9.456s-8.611-4.246-8.611-9.456c0-5.066 3.684-8.878 8.611-8.878M25 0C11.193 0 0 11.193 0 25c0 .915.056 1.816.152 2.705.032.295.091.581.133.873.085.589.173 1.176.298 1.751.073.338.169.665.256.997.135.515.273 1.027.439 1.529.114.342.243.675.37 1.01.18.476.369.945.577 1.406.149.331.308.657.472.98.225.446.463.883.714 1.313.182.312.365.619.56.922.272.423.56.832.856 1.237.207.284.41.568.629.841.325.408.671.796 1.02 1.182.22.244.432.494.662.728.405.415.833.801 1.265 1.186.173.154.329.325.507.475l.004-.011A24.886 24.886 0 0 0 25 50a24.881 24.881 0 0 0 16.069-5.861.126.126 0 0 1 .003.01c.172-.144.324-.309.49-.458.442-.392.88-.787 1.293-1.209.228-.232.437-.479.655-.72.352-.389.701-.78 1.028-1.191.218-.272.421-.556.627-.838.297-.405.587-.816.859-1.24a26.104 26.104 0 0 0 1.748-3.216c.208-.461.398-.93.579-1.406.127-.336.256-.669.369-1.012.167-.502.305-1.014.44-1.53.087-.332.183-.659.256-.996.126-.576.214-1.164.299-1.754.042-.292.101-.577.133-.872.095-.89.152-1.791.152-2.707C50 11.193 38.807 0 25 0"></path></g></svg></a>
                <a href="/cart" class="fb b abs"><svg class="svg s" xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="5.7 0 105.5 126.1" preserveAspectRatio="xMinYMax meet" data-hook="svg-icon-1"><path d="M99.8 28.4c0-1.2-0.9-2-2.1-2h-15c0 3.2 0 7.6 0 8.2 0 1.5-1.2 2.6-2.6 2.9 -1.5 0.3-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-0.9 0-4.7 0-8.2H40.1c0 3.2 0 7.3 0 8.2 0 1.5-1.2 2.9-2.6 2.9 -1.5 0-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-0.6 0-5 0-8.2h-15c-1.2 0-2 0.9-2 2L8.3 124c0 1.2 0.9 2.1 2.1 2.1h96.3c1.2 0 2.1-0.9 2.1-2.1L99.8 28.4z"></path><path d="M59.1 5.9c-2.9 0-2 0-2.9 0 -2 0-4.4 0.6-6.4 1.5 -3.2 1.5-5.9 4.1-7.6 7.3 -0.9 1.8-1.5 3.5-1.8 5.6 0 0.9-0.3 1.5-0.3 2.3 0 1.2 0 2.1 0 3.2 0 1.5-1.2 2.9-2.6 2.9 -1.5 0-2.9-0.9-3.2-2.3 0-0.3 0-0.3 0-0.6 0-1.2 0-2.3 0-3.5 0-3.2 0.9-6.4 2-9.4 1.2-2.3 2.6-4.7 4.7-6.4 3.2-2.9 6.7-5 11.1-5.9C53.5 0.3 55 0 56.7 0c1.5 0 2.9 0 4.4 0 2.9 0 5.6 0.6 7.9 1.8 2.6 1.2 5 2.6 6.7 4.4 3.2 3.2 5.3 6.7 6.4 11.1 0.3 1.5 0.6 3.2 0.6 4.7 0 1.2 0 2.3 0 3.2 0 1.5-1.2 2.6-2.6 2.9s-2.9-0.9-3.2-2.3c0-0.3 0-0.3 0-0.6 0-1.2 0-2.6 0-3.8 0-2.3-0.6-4.4-1.8-6.4 -1.5-3.2-4.1-5.9-7.3-7.3 -1.8-0.9-3.5-1.8-5.9-1.8C61.1 5.9 59.1 5.9 59.1 5.9L59.1 5.9z"></path><text x="58.5" y="77" dy=".35em" text-anchor="middle" style="color: white;" class="uxskpx" data-hook="items-count">0</text></svg></a>
            </a>
        </header><br><br><br><br><br>
            <div>
            <div style="width: 100vw;">
                <div id="items_" class="one navigation2 af one_index" style="display: flex;">
                    <div class="onscroll"><img style="width: 300px" class="imagus" src="{{ url_for('static', filename='img/works.gif') }}" alt=""><i style="opacity: 0; pointer-events: none;" class="for">MEN Category</i><h1 style="opacity: 0; pointer-events: none;" class="pr">MEN's bra collection<p class="ao o center pros"><a style="font-weight: 400; font-size: 20px; background: #ffff00a4;">999.9</a></p></h1></div>
                    <div style="display: none;" class="center wrapper">
                        <a class="cta" href="#">
                        <span>More</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
            <div class="ticker-container">
            <div class="ticker-content" style="width: 10000px;" id="ticker">
                <!-- Your text goes here, repeat the text for looping -->
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
                <span style="color: transparent;">shpooooooooooooooooooooooooooooooooooooooooooooooooooot</span>
            </div>
        </div><br><br><br><br>

        <div class="Collection">
            <div class="center">
                <div class="col">
                    <div align="center" class="title2 center cate" style="background: transparent; box-shadow: none; border: none;"><h1 id="name_cat" style="text-wrap: nowrap; color: black;" class="Title_">...</h1></div>
                </div>
            </div>
        </div>
        <div class="center">
            <div style="width: 800px;" align="center">
                <p class="pip" id="description_cat" style="font-size: 20px; color: #7a7a7a;"></p>
            </div>
        </div>
    <div id="search_bar_" class="man contain_menu" style="position: fixed; top: 0; left: 0; z-index: 1000; display: none; flex-direction: column; background-color: transparent; backdrop-filter: blur(0);">
        <div id="search_bar" class="menu" style="padding:0;flex: 0; position: relative; z-index: 1; width: 100vw; border: none; background-color: none; box-shadow: 0 0 125px rgba(0, 0, 0, 0.146);">
            <div style="display: flex; flex-direction: row;" class="center">
                <div style="padding: 0 25px;" class="pointer" onclick="my_search('');" href="#">BACK</div>
                <input type="text" id="searchInput" style="color: black; margin: 0; width: 100%; border: 1px solid black;" onkeyup="searchFilter_();" placeholder="Search..."></div>
            <div class="center" style="margin-top:0; margin: 15px; margin-bottom: 0;">
                    <div class="col" style="margin: 15px;">
                        <div id="dropdown1" class="dropdown dropdown1 center" style="padding: 0; align-items: center; height: auto; width: calc(auto -55px);">
                            <i style="font-size: 15px; border-right: none; background-color: #000000; margin-right: 7px; padding: 10px 15px; color: white;">VIEW</i>
                            <button for="view" id="view" onselect="document.getElementById('jude').style.display = 'block';" style="border-left: none; margin: 5px -7px;" class="dropbtn dropbtn1 abs"></button>
                            <div name="view" id="jude" align="start" class="dropdown-content dropdown-content1">
                                <a class="ra selected" onclick="carry_out(this, '#search')">ROW</a>
                                <a class="ra selected" onclick="carry_out(this, '#search')">SIMPLIFIED</a>
                            </div>
                        </div>
                    </div>
                <div class="center dropdown2 dropdown" style="display: block; justify-content: center; padding: 0; align-items: center; height: auto; width: auto;">
                    <i style="font-size: 15px; border-right: none; background-color: #000000;margin-right: 7px; padding: 12px 15px; color: white;">Prices</i>
                    <button for="sizes" id="size" style="border-left: none; margin: 5px -7px;" class="dropbtn2 dropbtn abs">All</button>
                    <div name="sizes" id="jude1" class="dropdown-content2 dropdown-content">
                        <a class="ra selected" onclick="localStorage.setItem('margins', ''); window.location.href = '#search'; window.location.reload();">All</a>
                    </div>
                    <i style="font-size: 15px; border-right: none; background-color: #000000;margin-right: 7px; padding: 12px 15px; color: white;">PKR</i>
                </div>
            </div>
        </div>
        <div onclick="op('search_bar', 'search_bar_')" style="position: relative; z-index: -1; flex: 1; width: 100%;"></div>
    </div>
    <div class="center">
        <div class="div center" style="margin-top: 65px; margin-bottom: 25px;"></div>
    </div>
    <div class="center">
        <div class="row">
            <div class="center">
        <div class="col" style="margin: 15px;">
            <div id="dropdown1" class="dropdown dropdown1 center" style="padding: 0; align-items: center; height: auto; width: calc(auto -55px);">
                <i style="font-size: 15px; border-right: none; background-color: #000000; padding: 10px 15px; color: white;">VIEW</i>
                <button for="view" id="view" onselect="document.getElementById('jude').style.display = 'block';" style="border-left: none; margin: 0px; margin-left: 0px; margin-top: 15px;" class="dropbtn dropbtn1 abs"></button>
                <div name="view" id="jude" align="start" class="dropdown-content dropdown-content1">
                    <a class="ra selected" onclick="carry_out(this);carry_out(this)">ROW</a>
                    <a class="ra selected" onclick="carry_out(this);carry_out(this)">SIMPLIFIED</a>
                </div>
            </div>
        </div>
    </div>
    <div class="center">
        <div class="col" style="margin-top:0; margin: 15px; margin-bottom: 0;">
            <div class="center dropdown2 dropdown" style="display: block; justify-content: center; padding: 0; align-items: center; height: auto; width: auto;">
                <i style="font-size: 15px; border-right: none; background-color: #000000;margin-right: 7px; padding: 12px 15px; color: white;">Prices</i>
                <button for="sizes" id="size" style="border-left: none; margin: 5px -7px;" class="dropbtn2 dropbtn abs">All</button>
                <div name="sizes" id="jude1" class="dropdown-content2 dropdown-content">
                    <a class="ra selected" onclick="localStorage.setItem('margins', ''); window.location.href = ''; window.location.relaod();">All</a>
                </div>
                <i style="font-size: 15px; border-right: none; background-color: #000000;margin-right: 7px; padding: 12px 15px; color: white;">PKR</i>
            </div>
        </div>
    </div>
    </div>
</div>
<div class="center" style="margin-bottom: 140px; margin-top: -45px; z-index: 100; height: 50px;">
    <div class="tags-input" style="height: 50px; padding: 0; margin: 0; margin-top: 120px;">
            <h3 class="center" id="ranges_"></h3>
            <input type="text" style="display: none; font-size: 19px; padding: 15px 25px; border-radius: 5px; color: black; margin: 25px;" id="input-tag"
            placeholder="SEARCH BY KEYWORDS."/>
            <ul id="tags" style="padding: 0; margin: 0;"></ul>
        </div>
    </div>
    <div class="center" style="margin-top: 100px;">
        <div style="width: 100vw; display: flex; align-items: center; justify-content: center;" class="center">
            <div id="items" class="one navigation" style="transition: .7s; display: flex; justify-content: center; align-items: center;">
                <a id="loading" class="abs">
                    <div class="container cont center" style="border:none;background-color: rgba(0, 0, 0, 0);">
                        <img style="width: 350px;" src="/static/img/works.gif">
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="footer" style="margin-top: 90px;">
        <div class="row center fixskew">
            <div class="container_foot">
                <div class="column unfolded">
                    <p onclick="respective(this)" class="cat">GET HELP</p>
                    <p onclick="respective(this)" class="cat">WEBSITE
                    </p>
                    <p class="cat">FEEDBACK</p>
                    <p class="cat">SITE FEEDBACK</p>
                    <p onclick="respective(this)" class="cat">BUG FIX
                    </p>
                    <p onclick="respective(this)" class="cat">API
                    </p>
                </div>
                <div class="column fold">
                    <p onclick="toggleSection(this)" class="cat"><i>+</i>POLICIES</p>
                    <div class="sub-menu">
                        <p onclick="respective(this)" class="cat link">RETURN POLICY</p>
                        <p onclick="respective(this)" class="cat link">SHIPPING AND DELIVERY</p>
                        <p onclick="respective(this)" class="cat link">ORDER CANCELLATION</p>
                        <p onclick="respective(this)" class="cat link">PAYMENT METHODS</p>
                    </div>
                </div>
                <div class="column fold">
                    <p onclick="toggleSection(this)" class="cat"><i>+</i>SOCIALS</p>
                    <div class="sub-menu">
                        <p onclick="respective(this)" class="cat link">Twitter</p>
                        <p onclick="respective(this)" class="cat link">Instagram</p>
                        <p onclick="respective(this)" class="cat link">Youtube</p>
                        <p onclick="respective(this)" class="cat link">Facebook</p>
                    </div>
                </div>
                <div class="column fold">
                    <p onclick="toggleSection(this)" class="cat"><i>+</i>COMPANY</p>
                    <div class="sub-menu">
                        <p onclick="respective(this)" class="cat link">ABOUT COMPANY</p>
                        <p onclick="respective(this)" class="cat link">NEWS</p>
                        <p onclick="respective(this)" class="cat link">CONTACT US</p>
                    </div>
                </div>
                <div class="column fold">
                    <p onclick="toggleSection(this)" class="cat"><i>+</i>ABOUT WEBSITE</p>
                    <div class="sub-menu">
                    <p onclick="respective(this)" class="cat link">CONTACT</p>
                    <p onclick="respective(this)" class="cat link">REPORT BUG</p>
                    </div>
                </div>
            </div>
        </div>
        <div onclick="window.location.href = '/doc/location';" class="row center fixskew"><h1 class="pointer center"><img style="filter:invert(1); width: 25px; padding: 12px;" src="/static/img/loc2.png">PAKISTAN</h1>
            <h1 onclick="window.location.href = '/doc/rights';" class="pointer center" style="font-weight: 500; color: #9797978d;"><img style="filter:invert(.5); width: 25px; padding: 12px;" src="/static/img/cop.png"> 2024 AMOIZ All Rights Reserved</h1>
        </div>
        <div onclick="window.location.href = '/doc/location';" class="center fixskew lasthing">
            <div class="row center">
                <h1 class="pointer center" style="font-weight: 500; padding: 0; margin: 5px; color: #9797978d;">Terms Of Policy</h1>
                <h1 class="pointer center" style="font-weight: 500; padding: 0; margin: 5px; color: #9797978d;">Terms Of Use</h1>
            </div>
            <h1 class="pointer center" style="font-weight: 500; color: #9797978d; padding: 0; margin: 5px;">Privacy Policy</h1>
        </div>
    </div>
</body>
</html>
<script nonce="{{ csp_nonce() }}">
    /*document.querySelectorAll('.butts').forEach(function (el) {
        document.addEventListener('mousedown', function () {
            if (el.innerText == "SIGN IN/UP") {
                window.location.href = "/auth";
            } else {
                document.getElementById("context_container").style.display = "none";
            }
        });
    })*/
</script>
<script nonce="{{ csp_nonce() }}">
    const type_variable = localStorage.getItem("type", "ROW");
    const margins_variable = localStorage.getItem("margins", "");
    if (type_variable == null)
    localStorage.setItem("type", "ROW");
    if (margins_variable == null)
    localStorage.setItem("margins", "");
</script>
<script nonce="{{ csp_nonce() }}">
    function my_search(a="none") {
        thru_rid();
        window.scrollTo(0, 0);
        location.hash = "";
        addinge = segments.length;
        for (let v = 2; v< 31; v++)
        document.body.children[v].style.display = a;
        document.querySelector("header").style.display = "";
        if (a == "none") {
            menu("search_bar", "search_bar_");
            document.querySelectorAll("#matches").forEach(function (el) {el.style.display = "flex";});
            document.getElementById("none_").classList.add("error")
            document.getElementById("items").innerHTML = `<h1 id="none_" class="error">No Item matched :/ <br><i style="font-size: 21px; font-style: normal;" class="ra">with the given keywords.</i></h1>`+document.getElementById("items").innerHTML
            try {document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})} catch(err) {}
            searchFilter_();
        }
        else {
            op("search_bar", "search_bar_");
            document.querySelectorAll("#matches").forEach(function (el) {el.style.display = "none";});
            document.getElementById("none_").remove();
            show();
        }
    }
</script>
<script nonce="{{ csp_nonce() }}">
function searchFilter_() {
    // Declare variables
    var input, filter, ul, li, words;
    input = document.getElementById('searchInput');
    filter = input.value.toUpperCase();
    words = filter.split(' '); // Split the input into words
    words = words.filter(elm => elm)
    ul = document.getElementById("items");
    li = Array.from(ul.getElementsByTagName('a')); // Convert HTMLCollection to Array

    // Reset all elements to be displayed
    li.forEach(a => a.style.display = "");

    // Create an array to store the elements with their match counts
    let elementsWithMatchCounts = li.map(a => {
        let text = a.innerText.toUpperCase();
        let matchCount = 0;

        // Check for each word in the input
        words.forEach(word => {
            if (text.indexOf(word) > -1) {
                matchCount++; // Increment match count for each matching word
            }
        });
        a.querySelector("#matches").innerHTML = matchCount;
        return { element: a, matchCount: matchCount };
    });

    // Sort the elements by match count in descending order
    elementsWithMatchCounts.sort((a, b) => b.matchCount - a.matchCount);

    // Clear the list and append the sorted elements
    //ul.innerHTML = '';
    var c = 0;
    elementsWithMatchCounts.forEach(item => {
        if (filter.length > 0 && item.matchCount === 0) {
            c++;
            item.element.style.display = "none"; // Hide non-matching elements if there is input
        }  else {
            c--;
            ul.appendChild(item.element); // Append matching and all elements if no input
        }
        if (c-elementsWithMatchCounts.length == 0) {
            document.getElementById("none_").classList.remove("error")
            return
        }
        document.getElementById("none_").classList.add("error")
    });
}
</script>
<script nonce="{{ csp_nonce() }}">
    //var interval_time = setInterval(measureFunctionTimes, 0);
    function measureFunctionTimes() {
        let startOne = performance.now();
        if (got == 1) {
            clearInterval(interval_time);
            let endOne = performance.now();
            let timeOne = endOne - startOne;
            // Display results
            document.body.innerHTML = `
                <p>Function One took ${timeOne.toFixed(2)} milliseconds.</p>
            ` + document.body.innerHTML;
        }
    }
</script>
<script nonce="{{ csp_nonce() }}">
    function awaw () {
        addinge = segments.length;
    }
    async function carry_out(th, b="") {
        /*for (let v = 0; v< Object.keys(searchfor).length; v++) {
            delete searchfor[Object.keys(searchfor)[v]]
        }*/
       //thru_rid();
       window.location.href = ''+b;
       window.location.reload();
       //lazy_load();
       console.log(data_, "this is data -----------------------");
       for (let i = 0; i< Object.keys(data_).length; i++) {
            await localStorage.setItem('type', th.innerText);
            await thru_rid();
            await hide_2pointO();
            await setTimeout(async function () {
                await egs(data_);
            }, 500);
        }
    }
</script>
<script nonce="{{ csp_nonce() }}">
    document.querySelectorAll("#view").forEach((el) => {el.innerText = localStorage.getItem("type", "ROW");})
    document.querySelectorAll("#size").forEach((el) => {el.innerText = localStorage.getItem("margins", "") == "" ? "All" : localStorage.getItem("margins", "");})
    document.querySelectorAll("#ranges_").forEach((el) =>{el.innerHTML = "Prices: &nbsp;&nbsp; FROM: "+(localStorage.getItem("margins", "") == "" ? "All" : localStorage.getItem("margins", "")).replace(/-/g, '&nbsp;<i style="color: black;font-style: normal; font-weight: 100; font-family: Arial, sans-serif;">Rs</i>&nbsp; -  TO:')+"&nbsp;<i style='font-style: normal; font-weight: 100; font-family: Arial, sans-serif; color: black;'>Rs</i>";})
    function hide_2pointO() {
        const main_items = document.getElementById("items").children;
      for (let i = 0; i< main_items.length; i++) {
          console.log(main_items);
          main_items[i].remove();
      }
    }
</script>
<script nonce="{{ csp_nonce() }}">
load_dp()
function load_dp(a="1") {
    var sel = $('.dropdown'+a),
    txt = $('.dropbtn'+a),
    options = $('.dropdown-content'+a);

  sel.click(function (e) {
    e.stopPropagation();
    options.show();
  });

  $('body').click(function (e) {
    options.hide();
  });

  options.children('a').click(function (e) {
    e.stopPropagation();
    txt.html($(this).html());
    $(this).addClass('selected').siblings('a').removeClass('selected');
    options.hide();
  });
}
</script>
<script nonce="{{ csp_nonce() }}">
    function hide() {
      const main_items = document.getElementById("items").children;
      for (let i = 0; i< main_items.length; i++) {
          console.log(main_items);
          main_items[i].style.display = "none";
      }
    }

    function show(a="") {
      const main_items = document.getElementById("items").children;
      for (let i = 0; i< main_items.length; i++) {
          console.log(main_items);
          main_items[i].style.display = a;
      }
    }

</script>

<script nonce="{{ csp_nonce() }}">
    setTimeout(() => {
        $(document).ready(function(){
            if (window.location.hash == "#cbad9b99") {
                $('html, body').animate({
                    scrollTop: $("#cbad9b99").offset().top
                }, 1000);
            }
        });
    }, 1000);
</script>
<script nonce="{{ csp_nonce() }}">
    function updateSearch(name, fr) {
        searchfor[name] = fr;
    }
    function searchFilter(bg, color, display) {
        for (let i = 0; i< Object.keys(searchfor).length; i++) {
            searchfor[Object.keys(searchfor)[i]].forEach(function (el) {
                const parent_element = el.closest('[href*="/product/"]');
                parent_element.style.display = display;
                el.style.background = bg;
                el.style.color = color;
            });
        }
    }
    var searchfor = {};
    function thru_rid() {
        document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})
        for (let i = addinge; i< segments.length; i++) {
            console.log(i);
            g(loadedkeys, loadobj, segments[i][0], 1);
            lazy_load();
        }
    }
    function add_tag(event, tagContent, classes=null, input=null) {
        thru_rid()
        addinge = segments.length;
        event.preventDefault();
        const fr = document.querySelectorAll(".list");
        var loaf = false;
        fr.forEach(function (el) {
            const loaf = (el.innerText === tagContent);
        });
        if (loaf)
            return;
        var l = "";
        if (classes != null) {
            l = classes[2];
            hide();
            const fr = document.querySelectorAll("."+l);
            updateSearch(l, fr);
            searchFilter("black", "white", "block");
        }
        const tag = document.createElement('li');
        tag.className = "list "+l+"tag";
        console.log(l,"this is gkn nice");
        if (tagContent !== '') {
            tag.innerText = tagContent;
            tag.innerHTML += `<button class="delete-button"><img style="width: 15px; pointer-events: none;" src="{{ url_for('static', filename='img/close.png') }}" alt=""></button><i class="meta">${l}</>`;
            tags.appendChild(tag);
            if (input != null)
            input.value = '';
        }
    }
</script>
<script nonce="{{ csp_nonce() }}">
    function delete_(text, parentRemove=null, event=null) {
        if (event != null)
        event.preventDefault();
        if (text != '') {
            delete searchfor[text];
            const c = document.querySelectorAll("."+text);
            c.forEach(function (el) {
                el.style.color = "black";
                el.style.background = "transparent";
            });
            document.querySelector("."+text+"tag").remove();
        }
        if (parentRemove != null)
        parentRemove.remove();
        const main_items = document.getElementById("items").children;
        for (let i = 0; i< main_items.length; i++) {
            main_items[i].style.display = "none";
        }
        if (Object.keys(searchfor).length > 0) {
            console.log("true the length is not 0")
            searchFilter("black", "white", "block");
        } else {
            for (let i = 0; i< main_items.length; i++) {
                main_items[i].style.display = "block";
            }
        }
    }
    </script>
    <script nonce="{{ csp_nonce() }}">
    const tags = document.getElementById('tags');
    const input = document.getElementById('input-tag');
    input.addEventListener('keydown', function (event) {
        if (event.key === 'Enter') {
            const tagContent = input.value.trim().toUpperCase();
            add_tag(event, tagContent, null,input);
        }
    });
    tags.addEventListener('click', function (event) {
        if (event.target.classList.contains('delete-button')) {
            delete_(text=event.target.parentNode.children[1].innerText, parentRemove= event.target.parentNode);
        }
    });
</script>
<script nonce="{{ csp_nonce() }}">
    var skip = 0;
        window.addEventListener('resize', function() {
        var subMenus = document.querySelectorAll('.sub-menu');
        if (window.innerWidth >= 956) {
            for (let b = 0; b< subMenus.length; b++) {
                subMenus[b].style.display = "block";
                skip = 1;
            };
        } else {
            for (let b = 0; b< subMenus.length; b++) {
                subMenus[0].style.display = "none";
                skip = 0;
            };
        }
    });
    window.addEventListener('load', function() {
        var subMenus = document.querySelectorAll('.sub-menu');
        if (window.innerWidth >= 956) {
            subMenus.forEach(function(subMenu) {
                subMenu.style.display = "block";
                skip = 1;
            });
        }
    });
    function toggleSection(element) {
        if (skip != 1) {
            var subMenu = element.nextElementSibling;
            if (subMenu.style.display === "block") {
                subMenu.style.display = "none";
                element.children[0].innerHTML = "+";
            } else {
                subMenu.style.display = "block";
                element.children[0].innerHTML = "-";
            }
        }
    }
</script>
<script nonce="{{ csp_nonce() }}">
    function lazy_load() {
        const content = document.querySelectorAll(".onscroll");
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fadeshowLeft2');
                } else {
                    entry.target.classList.remove('fadeshowLeft2');
                }
            })
        })
        content.forEach((el) => observer.observe(el));
    }
</script>
<script nonce="{{ csp_nonce() }}">
    var off = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30"><path d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"></path></svg>`;
    var on = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg>`;
function nestedButtonClick(event, thi, productid) {
    event.preventDefault();
    if (thi.innerHTML == off) {
        thi.innerHTML = on;
        //delete_(productid);
        console.log("DELETED");
    } else {
        thi.innerHTML = off;
        console.log(productid)
        save(productid);
    }
}
var g;
</script>
<script nonce="{{ csp_nonce() }}">
    function segments_(v) {
        //var v = v-1;
        var list = [];
        var res = [];
        var f = 0;
        for (var i = 0; i< v; i++) {
            list.push(i.toString());
            if (f == 1 || i == v-1) {
                f = 0;
                res.push([list]);
                list = [];
            }
            f++;
        }
        return res;
    }

</script>
<script nonce="{{ csp_nonce() }}">
    var addinge = 0;
    var old_seg = 0;
    function scrolled_user_product_lazy_load() {
        if($(window).scrollTop() + $(window).height() >= ($(document).height())-955 && got == 1 && addinge != segments.length) {
            if (addinge <= segments.length) {
                old_seg = segments[addinge][0];
                console.log(segments[addinge][0]);
                g(loadedkeys, loadobj, segments[addinge][0], 1);
                lazy_load();
                addinge++;
            } if (addinge === segments.length) {
                try {document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})} catch(err) {}
            }
        }
    }
    const loc = window.location.href;
    setTimeout(function () {
        $(window).scroll(function() {
            scrolled_user_product_lazy_load() // HEHE :)
        });
    }, 100);
</script>
<script>
        bod.style.overflow = "hidden";
</script>
    <script nonce="{{ csp_nonce() }}">
    var got = 0;
    function up(v) {
        const value = v;
        var ticker = document.getElementById('ticker');
        ticker.innerHTML = '';
        var a;
        if (value.length> 12)
            a = Math.floor(value.length+5);
        else
            a = Math.floor(value.length+100);
        for (var i = 0; i < a; i++) {
            var span = document.createElement('span');
            span.innerHTML = value; // Set initial text
            ticker.appendChild(span);
        }
    }
    function loadpc(keys, dObj, count, rep=0) {
        g = loadpc;
        for (let i = Math.floor(count[0]); i < Math.floor(count[count.length-1])+1; i++) {
            let key = keys[i];
            const item = (dObj[key]);
            const container = document.getElementById('items');
            //item.
            const a = document.createElement("a");
            a.innerHTML = `<div class="tag" id="matches">0</div>`;
            const division = document.createElement("div");
            const division2 = document.createElement("div");
            const image = document.createElement("img");
            const imageAh = document.createElement("img");
            const secondDivision = document.createElement("div");
            const img = String(item['img']);
            const img1 = img.split('/')[0].replace(/ /g, "%20");
            var img2 = "";
            if (img[1] == '') {
                img2 = img1;
            } else {
                img2 = img.split('/')[1].replace(/ /g, "%20");
            }
            a.setAttribute("href", `/product/${item['id']}`);
            a.setAttribute("id", `${item['id']}`)
            a.classList.add("abs");
            a.classList.add("rowed");
            division.setAttribute("class", "container cont center");
            division.style = "display: flex; width: auto; max-width: 2000px; height: 150px; padding: 10px 25px; flex-direction: row;";
            image.classList.add("img1");
            image.classList.add("imagus");
            image.style = "width: 180px;";
            division.appendChild(image);
            image.setAttribute("src", "{{ url_for('static', filename='products/') }}"+img1.replace(/,/g, "").replace(/ /g, "%20"));
            imageAh.classList.add("img2");
            imageAh.classList.add("imagus");
            imageAh.setAttribute("src", "{{ url_for('static', filename='products/') }}"+img2.replace(/,/g, "").replace(/ /g, "%20") || img.split(",")[0].replace(/ /g, "%20"));
            imageAh.style = "width: 180px;";
            secondDivision.setAttribute("align", "left");
            division.appendChild(imageAh);
            var cate = item['category'].toUpperCase().replace(/\./g, '/').replace(/ /g, '').split(',');
            var cats = "";
            taged = ["gender_", "type_", "color_"];
            let lock = "";
            for (var lor = 0; lor < cate.length; lor++) {
                if (lor == 3)
                    break;
                    text_cate = cate[lor].replace(/ /g, '')
                if (taged[lor] == "color_") {
                  //text_cate = `${text_cate.split("/")[0]}<div class="color" style="position: relative; margin:auto; border-radius: 2px; background: ${text_cate.split("/")[1]};"></div>`;
                  text_cate = `${text_cate.split("/")[0].replace(/ /g, "")}`;
                  }
                  let paired = text_cate.split("/")
                  if (paired.length > 1 && taged[lor] != "color_") {
                    for (let v = 0; v < paired.length; v++) {
                      if (v == 1)
                      lock = "display: none;"
                      cats += `<p class="cats bh ${taged[lor]}${paired[v].replace(/ /g, '').split("/")[0]}" onclick="if(this.style.background != 'black') { add_tag(event, this.innerText, this.classList); } else { delete_(this.classList[2], null, event); }" style="font-weight: 100; position: relative; z-index: 80; text-wrap: nowrap;${lock}">${paired[v]}</p>`;
                  }
                } else {
                  cats += `<p class="cats bh ${taged[lor]}${cate[lor].replace(/ /g, "").split("/")[0]}" onclick="if(this.style.background != 'black') { add_tag(event, this.innerText, this.classList); } else { delete_(this.classList[2], null, event); }" style="font-weight: 100; position: relative; z-index: 80; text-wrap: nowrap;">${text_cate}</p>`;
                }
            }            division.innerHTML += `<div class="meta">${item['name']}</div><div class="meta">${item['description']}</div><div class="details" style="display: flex; margin-left: 25px; margin-top: 0%; flex-direction: column; justify-content: flex-start; align-items: start;flex: 1;">
                    <h4 style="font-size: 28px; text-wrap: nowrap;">${TextAbstract(item['name'], 20)}</h4>
                    <p style="font-weight: 100; text-wrap: nowrap; font-family: 'cool', sans-serif; list-style-type: none;" class="des_nodot">${TextAbstract(item['description'], 36)}</p>
                    <div style="display: flex;">${cats}</div></div><div align="right" style="display: flex; justify-content: flex-end; width: 95%; align-items: start;">
</div>`;     division2.style = "display: flex; flex-direction: row; width: 100%; align-items: start;";
            secondDivision.classList.add("detail-container");
            var save_svg = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg>`;
            console.log(item['saved'])
            if (item['saved'] == 1){
                save_svg = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30"><path d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"></path></svg>`;
            }
            secondDivision.style = "display: flex; gap: 0px; flex-direction: row; text-wrap: nowrap; margin-right: 50px; align-items: end; flex: 1;";
            const details = `<div style="height: 7px; margin-top: 2%; width: 100%; display: flex; justify-content: end; align-items: start; flex: 1;" class="row">
                <i class="save-container add me bh pointer" onclick="summonContext(event, '${item['id']}')" style="position: absolute; margin-top: -70px; margin-right: -60px;">â€¦</i>
                <i class="ao o" style="color: rgb(0, 0, 0); margin-left: 35px; margin-right: -28px; margin-top:8px; font-weight: 500; font-size: 22px;"><i class="ao o center" style="font-size: 16px; font-weight: 700; display: flex; flex-direction: row;">PKR<i class='add' style="position: relative; margin: 0 25px; padding: 0; background: #ffff0085;/*background: red; color: white; font-weight: 900;*/ border: 0; border-radius: 3px;"> ${Math.round(item['price'])}</i></i>&nbsp;&nbsp;<s class="o"></s></i>&nbsp;&nbsp;<s class="o"></s>
                            </div>
                            <div align="right" class="save-container" style="flex:1; margin-right: -38px; justify-content: end; align-items: center;">
                                <i class="ao o bh pointer save-control" id="save" style="font-size: 15px; margin: 0; margin-top: 25px; padding: 0;" onclick="nestedButtonClick(event, this, 'dnt do this error')">
                                    ${save_svg}
                                </i>
                            </div>`
            secondDivision.innerHTML = details;
            container.querySelectorAll("#loading").forEach((el) =>{el.remove()})
            division.appendChild(secondDivision);
            a.appendChild(division);
            container.append(a);
            container.innerHTML += `<a id="loading" class="abs">
                    <div class="container cont center" style="width: 100%; height: 250px; background-color: rgba(0, 0, 0, 0.075);">
                        <img class="img1" src="/static/img/works.gif">
                        <img class="img2" src="/static/img/works.gif">
                    </div>
                </a>`
            ////routPointer();
            bod.style.overflow = "visible";
            bod.style.overflowX = "hidden";
        }
    }
    function loadp(keys, dObj, count, rep=0) {
        g=loadp;
        for (let i = Math.floor(count[0]); i < Math.floor(count[count.length-1])+1; i++) {
            let key = keys[i];
            const item = (dObj[key]);
            const container = document.getElementById('items');
            //item.
            const a = document.createElement("a");
            const division = document.createElement("div");
            const image = document.createElement("img");
            const imageAh = document.createElement("img");
            const secondDivision = document.createElement("div");
            a.innerHTML = `<div class="tag" id="matches">0</div>`;
            const img = String(item['img']);
            const img1 = img.split('/')[0].replace(/ /g, "%20");
            var img2 = "";
            if (img[1] == '') {
                img2 = img1;
            } else {
                img2 = img.split('/')[2].replace(/ /g, "%20");
            }
            img2 =  img2.replace(/,/g, '');
            console.log(img2, "this is image 2");
            a.setAttribute("href", `/product/${item['id']}`);
            a.setAttribute("id", `${item['id']}`);
            a.classList.add("abs");
            division.setAttribute("class", `container cont center pd${i}`);
            var cate = item['category'].toUpperCase().replace(/\./g, '/').replace(/ /g, '').split(',');
            var cats = "";
            taged = ["gender_", "type_", "color_"];
            let lock = "";
            for (var lor = 0; lor < cate.length; lor++) {
                if (lor == 3)
                    break;
                    text_cate = cate[lor].replace(/ /g, '')
                if (taged[lor] == "color_") {
                    text_cate = `${text_cate.split("/")[0]}<div class="color" style="osition: relative; margin:0; background: ${text_cate.split("/")[1]};"></div>`;
                  }
                  let paired = text_cate.split("/")
                  if (paired.length > 1 && taged[lor] != "color_") {
                    for (let v = 0; v < paired.length; v++) {
                      if (v == 2)
                      lock = "display: none;"
                      cats += `<p class="cats bh ${taged[lor]}${paired[v].replace(/ /g, '')}" onclick="if(this.style.background != 'black') { add_tag(event, this.innerText, this.classList); } else { delete_(this.classList[2], null, event); }" style="font-weight: 100; position: relative; z-index: 80; text-wrap: nowrap;${lock}">${paired[v]}</p>`;
                      console.log(`${taged[lor]}${paired[v].replace(/ /g, '')}`)
                  }
                } else {
                  cats += `<p class="cats bh ${taged[lor]}${cate[lor].replace(/\'/g, '').split("/")[0]}" onclick="if(this.style.background != 'black') { add_tag(event, this.innerText, this.classList); } else { delete_(this.classList[2], null, event); }" style="font-weight: 100; position: relative; z-index: 80; text-wrap: nowrap;">${text_cate}</p>`;
                  console.log(`${taged[lor]}${cate[lor].replace(/\'/g, '').split('/')[0]}`, "this wttfffff");
                }
            }
            division.innerHTML += `<div class="details">${cats}</div><div align="right" style="display: flex; justify-content: flex-end; width: 95%; align-items: start;">
    <i class="save-container add me bh pointer">â€¦</i>
    </div>`;
            var save_svg = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg>`;
            console.log(item['saved'], "-------------------------------------------------------------------------");
            if (item['saved'] == 1){
                save_svg = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 30 30"><path d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"></path></svg>`;
            }
            image.classList.add("img1");
            image.classList.add("imagus");
            image.setAttribute("id", `imag${i}`);
            division.appendChild(image);
            image.setAttribute("src", "{{ url_for('static', filename='products/') }}"+img1.replace(/ /g, "%20"));
            //image.setAttribute();
            imageAh.classList.add("img2");
            imageAh.classList.add("imagus");
            imageAh.setAttribute("src", "{{ url_for('static', filename='products/') }}"+img2.replace(/ /g, "%20") || img.split(",")[0].replace(/ /g, "%20"));
            secondDivision.setAttribute("align", "left");
            division.appendChild(imageAh);
            secondDivision.classList.add("detail-container");
            const details = `<div class="meta">${item['name']}</div><div class="meta">${item['description']}</div><div align="right" class="save-container"><i class="ao o bh pointer save-control" id="save" style="font-size: 15px; margin: 0; margin-top: 25px; padding: 0;" onclick="nestedButtonClick(event, this, '${item['id']}');">${save_svg}</i></div>
                    <h4 style="font-size: 18px;">${TextAbstract(item['name'], 20)}</h4>
                    <p style="font-weight: 100;">${TextAbstract(item['description'], 36)}</p>
                    <div style="height: 5px; margin-top: 15px; display: flex; justify-content: start; align-items: start;" class="row">
                        <i class="ao o center" style="font-size: 15px; display: flex; flex-direction: row;">PKR<i class='add' style="position: relative; margin: 0 25px; padding: 0; background: yellow;/*background: red; color: white; font-weight: 900;*/ border: 0; border-radius: 3px;"> ${Math.round(item['price'])}</i></i>&nbsp;&nbsp;<s class="o"></s>
                    </div>`;
            secondDivision.innerHTML = details;
            container.querySelectorAll("#loading").forEach((el) =>{el.remove()})
            division.appendChild(secondDivision);
            a.appendChild(division);
            container.append(a);
            container.innerHTML += `<a id="loading" class="abs">
                    <div class="container cont center" style=" background-color: rgba(0, 0, 0, 0.075);">
                        <img class="img1" src="/static/img/works.gif">
                        <img class="img2" src="/static/img/works.gif">
                    </div>
                </a>`;
            ////routPointer();
            getcolors_(`imag${i}`, `.pd${i}`);
            bod.style.overflow = "visible";
            bod.style.overflowX = "hidden";
        }
    }

    function egs(data) {
        console.log(data);
        got = 1;
        let len = data[1];
        const d = data['d'];
        const dObj = JSON.parse(d);
        let keys = Object.keys(dObj);
        let count = keys.length;
        addinge++;
        let a = segments_(keys.length);
        console.log(a);
        window.segments = a;
        window.loadedkeys = keys;
        window.loadobj = dObj;
        console.log(type_view,"What are those 2")
        var type_view = localStorage.getItem("type", "ROW");
        if (type_view === "ROW")
            loadp(keys, dObj, a[0][0]);
        else if (type_view === 'SIMPLIFIED') {
            document.getElementById("items").style.flexDirection = "column"
            loadpc(keys, dObj, a[0][0]);
        }
        lazy_load();
        $(document).ready(function(){
            var scrollpos = localStorage.getItem('scrollpos');
            if (location.hash == "#search") {
                my_search();
                location.hash = "";
                window.location.href.split('#')[0];
            }
            // Make sure this.hash has a value before overriding default behavior
            else if (location.hash !== "") {
                try {document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})} catch(err) {}
                thru_rid();
                addinge = segments.length;
                var hash = location.hash;
                $(hash).addClass('flash');
                var TOP = -220;
                if (type_view == "ROW")
                TOP = -55;
                $('html, body').animate({
                    scrollTop: $(hash).offset().top+TOP
                }, 800, function(){
                    window.location.hash = hash;
                });
                try {document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})} catch(err) {}
                setTimeout(() => {
                    $(hash).removeClass('flash');
                }, 1500);
                location.hash = "";
            } else if (scrollpos) {
                var scrollpos = scrollpos;
                for (let a = 0; a< 20; a++) {
                    window.scrollTo(0, scrollpos)
                    scrolled_user_product_lazy_load()
                }
            };
            });
            if (addinge == 0 || segments.length <= 1)
            try {document.getElementById('items').querySelectorAll("#loading").forEach((el) =>{el.remove()})} catch(err) {}
    }
    window.onbeforeunload = function(e) {
        localStorage.setItem('scrollpos', window.scrollY);
    };

    $(document).ready(function() {
        var token = '{{ token }}';
        const category_ = "{{ category }}";
        var socket = io("https://"+window.location.hostname, {
            extraHeaders: {
                Authorization: '' + category_,
                Pricemargin: '' + localStorage.getItem("margins", ""),
            }
        });

        socket.on(getcookie('evid'), function(data) {
            window.data_ = data;
            up(data['ticker']);
            if (data['goKaraleva'] == '1' && got < 1) {
                document.querySelectorAll(".uxskpx").forEach(el => {el.innerHTML = `${data['amount']}`});
                egs(data);
                console.log("What are those 1");
                lazy_load();
            }
            lazy_load();
        });
        socket.on(getcookie('evid')+"r", function(data) {
            try {
                console.log(data[3], " - - -- ---- ----- ------ ------- bruh");
            if (data[3] != null) {
                for (let v = 0; v < data[0].length; v++) {
                    if (v == 0)
                    document.querySelector("#items_").innerHTML = `<div class="pointer imagus pdi${v}" style="max-width: 100%; margin:-1px; border: 1px solid #ccc;" onclick="localStorage.setItem('margins', '');thru_rid(); window.location.href = '#${data[0][v]['id']}';"><img class="imagus"  id="imagi${v}" src="{{ url_for('static', filename='products/') }}${data[0][v]['img'].split("/")[0]}" alt=""><h1 style="display: flex; flex-direction: column; justify-content: start; align-items: start;">${data[0][v]['name']}<p class="ao o center pros"><a style="font-weight: 400; font-size: 20px; background: #ffff00a4;">${Math.round(data[0][v]['price'])}</a></p></h1></div>`;
                    else
                    document.querySelector("#items_").innerHTML += `<div class="pointer imagus pdi${v}" style="max-width: 100%; margin:-1px; border: 1px solid #ccc;" onclick="localStorage.setItem('margins', '');thru_rid(); window.location.href = '#${data[0][v]['id']}';"><img class="imagus" id="imagi${v}" src="{{ url_for('static', filename='products/') }}${data[0][v]['img'].split("/")[0]}" alt=""><h1 style="display: flex; flex-direction: column; justify-content: start; align-items: start;">${data[0][v]['name']}<p class="ao o center pros"><a style="font-weight: 400; font-size: 20px; background: #ffff00a4;">${Math.round(data[0][v]['price'])}</a></p></h1></div>`;
                    setTimeout(() => {
                        let images = document.querySelectorAll(".imagus");
                        lazyload(images);
                        $("img.imagus").lazyload();
                        //pointer_();
                        lazy_load();
                        getcolors_(`imagi${v}`, `.pdi${v}`);
                    }, 400);
                }
                lazy_load();
            } else {
                if (data[2] != "") {
                    for (let v = 0; v< data[0].length;v++) {
                        if (v != 0)
                        document.getElementById("categories_list").innerHTML += `<li onclick="window.location.href = '/products/${data[0][v].category_id}'" class="fb b b_">${data[0][v].name.replace(/ /g, '&nbsp;')}</li>`;
                    else
                    document.getElementById("categories_list").innerHTML = `<li onclick="window.location.href = '/products/${data[0][v].category_id}'" class="fb b b_">${data[0][v].name.replace(/ /g, '&nbsp;')}<i class="tag">NEW</i></li>`;
            }
        } else {
            console.log("nwice the awfawfa wfba uif- ----")
                    var data_ = data[0]
                    for (let i = 0; i< Object.keys(data_).length; i++) {
                        console.log(data_);
                        if (data[1] != "b") {
                            document.getElementById("name_cat").innerText = data_[i]['name'].toUpperCase();
                            document.getElementById("description_cat").innerText = data_[i]['description'];
                        } else {
                            document.getElementById("name_cat").innerText = "ALL PRODUCTS";
                            document.getElementById("description_cat").style.display = "none";
                        }
                        let margin = (data_[i]['price_margins'].split('.'));
                        for (let v = 0; v< margin.length; v++) {
                            console.log(margin[v]);
                            var j = document.querySelectorAll("#jude1");
                            var l = ['#search', ''];
                            for (let i = 0; i< j.length; i++)
                            j[i].innerHTML += `<a class="ra selected" onclick="localStorage.setItem('margins', '${margin[v]}'); window.location.href = '${l[i]}';window.location.reload();">${margin[v]}</a>`
                    }
                    load_dp("2");
                }
            }
        }
    } catch (err) {
        console.log("WTFFF", err);
    }
        lazy_load();
    });
    function redund() {
            const j = [`${getcookie('evid')}`,''];
            socket.emit("red", `${j}`)
            console.log("Retrying...")
        }
        function get_cat() {
            socket.emit("get_category_read", "")
            socket.emit("get_products_read", category_, 4424)
            //socket.emit("get_category_read", "alldata_")
            console.log("Reading...")
        }
        function savef(p) {
            socket.emit("save", p, function (data) {
                if (data[0] == 400) {
                    document.getElementById("context_container").style.display = "flex";
                    document.querySelectorAll(".save-control").forEach((el) => {
                        el.innerHTML = `<svg style="width: 25px;" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 32 32"><path d="M 7 5 L 7 28 L 8.59375 26.8125 L 16 21.25 L 23.40625 26.8125 L 25 28 L 25 5 Z M 9 7 L 23 7 L 23 24 L 16.59375 19.1875 L 16 18.75 L 15.40625 19.1875 L 9 24 Z"></path></svg>`;
                    });
                }
            });
        }
        window.redundancy = redund;
        window.save = savef;
        window.getcat = get_cat;
    });
    window.addEventListener('load', function() {
        if (got != 1){
            try {
                getcat();
                redundancy();
            }
            catch (err) {
                console.log(err);
            }
        }
        console.log("wTF");
        my_inter();
    var my_interval_variable = setInterval(my_inter,1500);
    function my_inter() {
        if (got != 1) {
                redundancy();
                getcat();
            } else {
                clearInterval(my_interval_variable);
            }
        }
        let images = document.querySelectorAll(".imagus");
        lazyload(images);
        $("img.imagus").lazyload();
        //pointer_();
        lazy_load();
    });

    </script>
    <script>
        function averageColor__(imageElement) {
            var canvas = document.createElement('canvas'),
                context = canvas.getContext && canvas.getContext('2d'),
                imgData, width, height,
                rgb = { r: 0, g: 0, b: 0 },
                count = 0;
            
            height = canvas.height = imageElement.naturalHeight ||
                                      imageElement.offsetHeight ||
                                      imageElement.height;
            width = canvas.width = imageElement.naturalWidth ||
                                   imageElement.offsetWidth ||
                                   imageElement.width;

            context.drawImage(imageElement, 0, 0);
            const edges = [];
            imgData = context.getImageData(0, 0, width, height);

            // Collect pixels from the edges
            for (let x = 0; x < width; x++) {
                edges.push(getPixel(imgData.data, x, 0, width));
                edges.push(getPixel(imgData.data, x, height - 1, width));
            }
            for (let y = 0; y < height; y++) {
                edges.push(getPixel(imgData.data, 0, y, width));
                edges.push(getPixel(imgData.data, width - 1, y, width));
            }

            // Determine the most frequent color
            const colorFrequency = {};
            edges.forEach(color => {
                const key = color.join(',');
                colorFrequency[key] = (colorFrequency[key] || 0) + 1;
            });

            const mostFrequentColor = Object.keys(colorFrequency).reduce((a, b) => colorFrequency[a] > colorFrequency[b] ? a : b);

            const [r, g, b] = mostFrequentColor.split(',').map(Number);
            return `rgb(${r}, ${g}, ${b})`;
    }
    function getPixel(data, x, y, width) {
        const index = (y * width + x) * 4;
        return [data[index], data[index + 1], data[index + 2]];
    }

    function getcolors_(img_, a) {
        setTimeout(() => {
            var rgb;
            try {
                rgb = averageColor__(document.getElementById(img_));
                document.querySelectorAll(a).forEach((e) => {
                    console.log(rgb);
                    e.style.background = rgb;
                    console.log(rgb);
                });
            }
            catch (err) {
                console.log(err, "the error occurred.");
            }        
        }, 600);
    }
    </script>
    <script nonce="{{ csp_nonce() }}">
        function TextAbstract(text, length) {
            if (text.length > length) {
                return text.substring(0, length - 3) + '..';
            }
            return text;
    }

    </script>

<!--

https://trikkobrand.com/password
https://jp.supreme.com/
https://plain-jane-lite.com/collections/all
https://www.squarespace.com/templates/seen-fluid-demo
https://row.representclo.com/collections/represent-x-metallica?page=1
https://golfwang.com/collections/new
https://outfitters.com.pk/#Boorayy
https://groovypakistan.com/
https://www.wix.com/website-template/view/html/2247?originUrl=https%3A%2F%2Fwww.wix.com%2Fwebsite%2Ftemplates%3Fcriteria%3Dstreetware&tpClick=view_button&esi=0d3cf57d-2c84-493c-90f1-f5c8f1d4f37d
https://misbhv.com/us/en/


# at last
https://api.jquery.com/jQuery.post/
# not atlast but do it
https://stackoverflow.com/questions/53901699/how-can-i-listen-a-message-queue-in-flask-microservices
-->
